"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[361],{7361:function(n,e,r){r.r(e),r.d(e,{default:function(){return V}});var i=r(9439),t=r(2791),s=r(5861),a=r(7757),o=r.n(a),c=r(9434),d=r(5822),l=r(5705),u=r(1999),h=r(8129),m=r(218),x=r(1243),w=r(3238),f=r(2797),p=r(1980),j=r(184),Z={email:"",password:"",showPassword:!1},v=f.Ry({email:f.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email format"),password:f.Z_().min(7,"should be 7 chars minimum").max(32,"should be 32 chars maximum").matches(/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]*$/,"letters, numbers, symbols")});function g(){var n=(0,c.I0)(),e=(0,p.a)(),r=e.isError,i=e.isLoggedIn,t=function(){var e=(0,s.Z)(o().mark((function e(r,t){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.setSubmitting,e.prev=1,e.next=4,n(d.Z.login(r));case 4:if(!i){e.next=7;break}return e.next=7,n(d.Z.fetchCurrentUser());case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),console.log("catch");case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,j.jsx)(l.J9,{initialValues:Z,onSubmit:t,validationSchema:v,children:function(e){var i=e.isSubmitting,t=e.errors,s=e.touched;return(0,j.jsxs)(u.tN,{noValidate:!0,children:[(0,j.jsx)(u.h4,{children:"Login"}),(0,j.jsxs)(w.Z,{children:[(0,j.jsx)(x.Z,{name:"email",text:"Email",children:s.email&&t.email&&(0,j.jsx)(u.jj,{children:t.email})}),(0,j.jsx)(x.Z,{name:"password",password:!0,text:"Password",children:s.password&&t.password&&(0,j.jsx)(u.jj,{children:t.password})})]}),(0,j.jsx)("div",{children:(0,j.jsxs)(h.Z,{type:"submit",buttonStyle:"primary",disabled:i,children:[r&&(0,j.jsx)(u.jj,{children:r}),i?(0,j.jsx)(m.Z,{}):(0,j.jsx)("span",{children:"Login"})]})}),(0,j.jsxs)("span",{children:[(0,j.jsx)(u.il,{children:"Don't have an account? \xa0"}),(0,j.jsx)(u.w2,{to:"/register",onClick:function(){n(d.Z.eraseErrors())},end:!0,children:"Register"},"home")]})]})}})}var b,k,y,E,P=r(6641),_=r(168),S=r(8293),z=r(9866),C=r(9922),L=r(6444),D=L.ZP.div(b||(b=(0,_.Z)(["\n  width: 100%;\n  z-index: 1;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n"]))),I="position: fixed;\nbottom: 0px;\nwidth: 100%;\nz-index: -1;",W=(0,L.ZP)(S.r)(k||(k=(0,_.Z)(["\n  ","\n"])),I),$=(0,L.ZP)(z.r)(y||(y=(0,_.Z)(["\n  ","\n"])),I),R=(0,L.ZP)(C.r)(E||(E=(0,_.Z)(["\n  ","\n"])),I);function V(){var n=(0,t.useState)(window.innerWidth),e=(0,i.Z)(n,2),r=e[0],s=e[1];return(0,t.useEffect)((function(){(0,P.D)((function(){s(window.innerWidth)}),300)}),[r]),(0,t.useEffect)((function(){var n=(0,P.D)((function(){s(window.innerWidth)}),300);return window.addEventListener("resize",n),function(e){window.removeEventListener("resize",n)}})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(D,{onClick:function(n){return n.stopPropagation()},children:(0,j.jsx)(g,{})}),r<=767&&(0,j.jsx)(W,{}),768<=r&&r<=1279&&(0,j.jsx)($,{}),r>=1280&&(0,j.jsx)(R,{})]})}}}]);
//# sourceMappingURL=361.d9b063da.chunk.js.map