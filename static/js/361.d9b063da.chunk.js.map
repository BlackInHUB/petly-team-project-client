{"version":3,"file":"static/js/361.d9b063da.chunk.js","mappings":"qVAcMA,EAAgB,CAAEC,MAAO,GAAIC,SAAU,GAAIC,cAAc,GAEzDC,EAAmBC,EAAAA,GAAW,CAClCJ,MAAOI,EAAAA,KAEJC,QACC,8CACA,wBAEJJ,SAAUG,EAAAA,KAEPE,IAAI,EAAG,6BACPC,IAAI,GAAI,8BACRF,QACC,kDACA,+BAIS,SAASG,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAgCC,EAAAA,EAAAA,KAAxBC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WAEXC,EAAQ,mCAAG,WAAOC,EAAP,iFAAiBC,EAAjB,EAAiBA,cAAjB,kBAEPP,EAASQ,EAAAA,EAAAA,MAAqBF,IAFvB,WAGTF,EAHS,gCAGSJ,EAASQ,EAAAA,EAAAA,oBAHlB,uDAKbC,QAAQC,IAAI,KAAEC,SACdF,QAAQC,IAAI,SANC,yBAQbH,GAAc,GARD,4EAAH,wDAYd,OACE,SAAC,KAAD,CACEjB,cAAeA,EACfe,SAAUA,EACVX,iBAAkBA,EAHpB,SAKG,gBAAGkB,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,OAAQC,EAAzB,EAAyBA,QAAzB,OACC,UAAC,KAAD,CAAYC,YAAU,EAAtB,WACE,SAAC,KAAD,qBACA,UAACC,EAAA,EAAD,YACE,SAACC,EAAA,EAAD,CAAOC,KAAK,QAAQC,KAAK,QAAzB,SACGL,EAAQvB,OAASsB,EAAOtB,QAAS,SAAC,KAAD,UAAQsB,EAAOtB,WAGnD,SAAC0B,EAAA,EAAD,CAAOC,KAAK,WAAW1B,UAAU,EAAM2B,KAAK,WAA5C,SACGL,EAAQtB,UAAYqB,EAAOrB,WAC1B,SAAC,KAAD,UAAQqB,EAAOrB,iBAIrB,0BACE,UAAC4B,EAAA,EAAD,CAAQC,KAAK,SAASC,YAAY,UAAUC,SAAUX,EAAtD,UACGT,IAAW,SAAC,KAAD,UAAQA,IACnBS,GAAe,SAACY,EAAA,EAAD,KAAoB,0CAGxC,6BACE,SAAC,KAAD,2CACA,SAAC,KAAD,CACEC,GAAI,YAEJC,QAAS,WACP1B,EAASQ,EAAAA,EAAAA,cACV,EACDmB,KAAG,EANL,qBAEO,aAxBZ,GAqCN,C,uECtFYC,EAAcC,EAAAA,GAAAA,IAAH,wNAwBlBC,EAAqB,6DAIdC,GAA6BF,EAAAA,EAAAA,IAAOG,EAAAA,EAAPH,CAAH,8BACnCC,GAESG,GAA6BJ,EAAAA,EAAAA,IAAOK,EAAAA,EAAPL,CAAH,8BACnCC,GAESK,GAAyBN,EAAAA,EAAAA,IAAOO,EAAAA,EAAPP,CAAH,8BAC/BC,GC9BW,SAASO,IACtB,OAAsCC,EAAAA,EAAAA,UAASC,OAAOC,YAAtD,eAAOC,EAAP,KAAoBC,EAApB,KAoBA,OAlBAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAS,WACPF,EAAeH,OAAOC,WACvB,GAAE,IACJ,GAAE,CAACC,KAEJE,EAAAA,EAAAA,YAAU,WACR,IAAME,GAAwBD,EAAAA,EAAAA,IAAS,WACrCF,EAAeH,OAAOC,WACvB,GAAE,KAIH,OAFAD,OAAOO,iBAAiB,SAAUD,GAE3B,SAAAE,GACLR,OAAOS,oBAAoB,SAAUH,EACtC,CACF,KAGC,iCACE,SAACjB,EAAD,CAAaF,QAAS,SAAAuB,GAAC,OAAIA,EAAEC,iBAAN,EAAvB,UACE,SAACnD,EAAD,MAED0C,GAAe,MAAO,SAACV,EAAD,IACtB,KAAOU,GAAeA,GAAe,OACpC,SAACR,EAAD,IAEDQ,GAAe,OAAQ,SAACN,EAAD,MAG7B,C","sources":["components/AuthForm/LoginForm.jsx","pages/LoginPage/style.js","pages/LoginPage/LoginPage.jsx"],"sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport authOperations from 'redux/auth/authOperations';\nimport { Formik } from 'formik';\nimport { FormStyled, Header, Error, NavLinkStyled, BottomText } from './style';\n\nimport Button from '../baseComponents/Button/Button';\nimport ButtonSpinner from 'components/baseComponents/ButtonSpinner/ButtonSpinner';\nimport Input from 'components/baseComponents/Input/Input';\nimport FieldsWrapper from 'components/baseComponents/FieldsWrapper/FieldsWrapper';\n\nimport * as yup from 'yup';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst initialValues = { email: '', password: '', showPassword: false };\n\nconst validationSchema = yup.object({\n  email: yup\n    .string()\n    .matches(\n      /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/,\n      'Invalid email format'\n    ),\n  password: yup\n    .string()\n    .min(7, 'should be 7 chars minimum')\n    .max(32, 'should be 32 chars maximum')\n    .matches(\n      /^[a-zA-Z0-9!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?]*$/,\n      'letters, numbers, symbols'\n    ),\n});\n\nexport default function LoginForm() {\n  const dispatch = useDispatch();\n  const { isError, isLoggedIn } = useAuth();\n\n  const onSubmit = async (values, { setSubmitting }) => {\n    try {\n      await dispatch(authOperations.login(values));\n      if (isLoggedIn) await dispatch(authOperations.fetchCurrentUser());\n    } catch (e) {\n      console.log(e.message);\n      console.log('catch');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={onSubmit}\n      validationSchema={validationSchema}\n    >\n      {({ isSubmitting, errors, touched }) => (\n        <FormStyled noValidate>\n          <Header>Login</Header>\n          <FieldsWrapper>\n            <Input name=\"email\" text=\"Email\">\n              {touched.email && errors.email && <Error>{errors.email}</Error>}\n            </Input>\n\n            <Input name=\"password\" password={true} text=\"Password\">\n              {touched.password && errors.password && (\n                <Error>{errors.password}</Error>\n              )}\n            </Input>\n          </FieldsWrapper>\n          <div>\n            <Button type=\"submit\" buttonStyle=\"primary\" disabled={isSubmitting}>\n              {isError && <Error>{isError}</Error>}\n              {isSubmitting ? <ButtonSpinner /> : <span>Login</span>}\n            </Button>\n          </div>\n          <span>\n            <BottomText>Don't have an account? &nbsp;</BottomText>\n            <NavLinkStyled\n              to={'/register'}\n              key={'home'}\n              onClick={() => {\n                dispatch(authOperations.eraseErrors());\n              }}\n              end\n            >\n              Register\n            </NavLinkStyled>\n          </span>\n        </FormStyled>\n      )}\n    </Formik>\n  );\n}\n","import { ReactComponent as BackgroundMobileIcon } from '../../images/mobileBackground.svg';\nimport { ReactComponent as BackgroundTabletIcon } from '../../images/tabletBackground.svg';\nimport { ReactComponent as BackgroundPCIcon } from '../../images/pcBackground.svg';\n\nimport styled from 'styled-components';\n\nexport const PageWrapper = styled.div`\n  width: 100%;\n  z-index: 1;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n`;\n\n// pointer-events: none;\n\n//   position: absolute;\n//   top: 0;\n//   bottom: 0;\n//   left: 0;\n//   right: 0;\n\n//   width: 100vw;\n//   height: 100vh;\n\nconst styleForBackgroundImg = `position: fixed;\nbottom: 0px;\nwidth: 100%;\nz-index: -1;`;\nexport const BackgroundMobileIconStyled = styled(BackgroundMobileIcon)`\n  ${styleForBackgroundImg}\n`;\nexport const BackgroundTabletIconStyled = styled(BackgroundTabletIcon)`\n  ${styleForBackgroundImg}\n`;\nexport const BackgroundPCIconStyled = styled(BackgroundPCIcon)`\n  ${styleForBackgroundImg}\n`;\n","import React, { useState, useEffect } from 'react';\nimport LoginForm from '../../components/AuthForm/LoginForm';\nimport { debounce } from 'utils/dobounce';\n\nimport {\n  PageWrapper,\n  BackgroundMobileIconStyled,\n  BackgroundTabletIconStyled,\n  BackgroundPCIconStyled,\n} from './style';\n\nexport default function LoginPage() {\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    debounce(function handleResize() {\n      setWindowWidth(window.innerWidth);\n    }, 300);\n  }, [windowWidth]);\n\n  useEffect(() => {\n    const debouncedHandleResize = debounce(function handleResize() {\n      setWindowWidth(window.innerWidth);\n    }, 300);\n\n    window.addEventListener('resize', debouncedHandleResize);\n\n    return _ => {\n      window.removeEventListener('resize', debouncedHandleResize);\n    };\n  });\n\n  return (\n    <>\n      <PageWrapper onClick={e => e.stopPropagation()}>\n        <LoginForm />\n      </PageWrapper>\n      {windowWidth <= 767 && <BackgroundMobileIconStyled />}\n      {768 <= windowWidth && windowWidth <= 1279 && (\n        <BackgroundTabletIconStyled />\n      )}\n      {windowWidth >= 1280 && <BackgroundPCIconStyled />}\n    </>\n  );\n}\n"],"names":["initialValues","email","password","showPassword","validationSchema","yup","matches","min","max","LoginForm","dispatch","useDispatch","useAuth","isError","isLoggedIn","onSubmit","values","setSubmitting","authOperations","console","log","message","isSubmitting","errors","touched","noValidate","FieldsWrapper","Input","name","text","Button","type","buttonStyle","disabled","ButtonSpinner","to","onClick","end","PageWrapper","styled","styleForBackgroundImg","BackgroundMobileIconStyled","BackgroundMobileIcon","BackgroundTabletIconStyled","BackgroundTabletIcon","BackgroundPCIconStyled","BackgroundPCIcon","LoginPage","useState","window","innerWidth","windowWidth","setWindowWidth","useEffect","debounce","debouncedHandleResize","addEventListener","_","removeEventListener","e","stopPropagation"],"sourceRoot":""}