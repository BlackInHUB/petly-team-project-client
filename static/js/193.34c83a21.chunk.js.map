{"version":3,"file":"static/js/193.34c83a21.chunk.js","mappings":"6PAMaA,EAAcC,EAAAA,GAAAA,IAAH,yNAYlBC,EAAqB,8DAIdC,GAA6BF,EAAAA,EAAAA,IAAOG,EAAAA,EAAPH,CAAH,8BACnCC,GAESG,GAA6BJ,EAAAA,EAAAA,IAAOK,EAAAA,EAAPL,CAAH,8BACnCC,GAESK,GAAyBN,EAAAA,EAAAA,IAAOO,EAAAA,EAAPP,CAAH,8BAC/BC,G,qEC3BSO,EAAMR,EAAAA,GAAAA,IAAH,gJAKP,SAAAS,GAAC,OAAIA,EAAEC,MAAMC,MAAM,GAAK,IAAvB,IAEM,SAAAF,GAAC,OAAKA,EAAEG,QAAU,UAAY,QAA7B,IACJ,SAAAH,GAAC,OAAKA,EAAEG,QAAU,OAAS,MAA1B,I,SCId,EATsB,SAAC,GAA2B,IAAzBA,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAChC,OAAO,SAACL,EAAD,CAAKI,QAASA,EAAd,SAAwBC,GAChC,E,uCCiBKC,EAAgB,CACpBC,MAAO,GACPC,SAAU,GACVC,gBAAiB,GACjBC,KAAM,GACNC,KAAM,GACNC,MAAO,IAGHC,EAAc,4BAEdC,EAAmBC,EAAAA,GAAW,CAClCR,MAAOQ,EAAAA,KAAaR,MAAM,wBAAwBS,SAAS,YAC3DR,SAAUO,EAAAA,KAEPE,IAAI,EAAG,sDACPC,QACC,kDACA,4CAEDF,SAAS,wBACZP,gBAAiBM,EAAAA,KAAaI,KAAK,WAAY,CAC7CC,GAAI,SAAAC,GAAG,SAAKA,GAAOA,EAAIC,OAAS,EAAzB,EACPC,KAAMR,EAAAA,KAEHS,MAAM,CAACT,EAAAA,GAAQ,aAAc,uCAElCL,KAAMK,EAAAA,KAAaC,SAAS,YAC5BL,KAAMI,EAAAA,KAAaC,SAAS,cAGf,SAASS,IACtB,OAAwBC,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAkCF,EAAAA,EAAAA,UAAS,MAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAEA,GAAsCJ,EAAAA,EAAAA,UAAS,IAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAAwCN,EAAAA,EAAAA,UAAS,MAAjD,eAAOO,EAAP,KAAqBC,EAArB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,QAAQC,IAAIV,EACb,GAAE,CAACA,IAEJ,IAAMW,GAAWC,EAAAA,EAAAA,MAEXC,GAAUC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,OAAf,IAoB3BI,EAAa,WACjBhB,GAAQ,SAAAiB,GAAS,OAAIA,EAAY,CAAhB,GAClB,EAEKC,EAAkB,WACtB,OAAOjC,EAAYkC,KAAZ,WAAqBhB,GAC7B,EAEKiB,EAAQ,mCAAG,WAAOC,EAAP,yFAAiBC,EAAjB,EAAiBA,cAChCd,QAAQC,IAAIY,GACEE,EAAoCF,EAA1CvC,KAAgBH,EAA0B0C,EAA1B1C,MAAOI,EAAmBsC,EAAnBtC,KAAMH,EAAayC,EAAbzC,SAC/BI,EAHS,WAGGmB,GACZqB,EAAO,CAAED,SAAAA,EAAU5C,MAAAA,EAAOI,KAAAA,EAAMC,MAAAA,EAAOJ,SAAAA,GAJ9B,SAOb4B,QAAQC,IAAIS,MACRA,IARS,wBASXZ,EAAgB,MATL,UAULI,EAASe,EAAAA,EAAAA,SAAwBD,IAV5B,gCAWNlB,EAAgB,0BAXV,0DAabE,QAAQC,IAAR,MAba,yBAeba,GAAc,GAfD,6EAAH,wDAmBd,OACE,+BACE,SAAC,KAAD,CACE5C,cAAeA,EACf0C,SAAUA,EACVlC,iBAAkBA,EAHpB,SAKG,gBAAGwC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,OAAQC,EAAzB,EAAyBA,QAAzB,OACC,UAAC,KAAD,YACE,SAAC,KAAD,4BAEA,UAAC,EAAD,CAAepD,QAAkB,IAATuB,EAAxB,WACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAa8B,GAAG,QAAQ/C,KAAK,QAAQM,UAAQ,KAC7C,SAAC,KAAD,CAAO0C,QAAQ,QAAf,oBACA,SAAC,KAAD,UAAQF,EAAQjD,MAAQgD,EAAOhD,MAAQ,WAGzC,UAAC,KAAD,YACE,SAAC,KAAD,CACEkD,GAAG,WACHE,KAAK,WACLjD,KAAK,WACLkD,aAAa,eACb5C,UAAQ,KAEV,SAAC,KAAD,CAAO0C,QAAQ,WAAf,uBACA,SAAC,KAAD,UAAQF,EAAQhD,SAAW+C,EAAO/C,SAAW,WAE/C,UAAC,KAAD,YACE,SAAC,KAAD,CACEiD,GAAG,kBACHE,KAAK,WACLjD,KAAK,kBACLkD,aAAa,eACb5C,UAAQ,KAEV,SAAC,KAAD,CAAO0C,QAAQ,kBAAf,+BACA,SAAC,KAAD,UACGF,EAAQ/C,gBAAkB8C,EAAO9C,gBAAkB,cAK1D,UAAC,EAAD,CAAeL,QAAkB,IAATuB,EAAxB,WACE,UAAC,KAAD,YACE,SAAC,KAAD,CACE8B,GAAG,OACH/C,KAAK,OACLkD,aAAa,MACb5C,UAAQ,KAEV,SAAC,KAAD,CAAO0C,QAAQ,OAAf,mBACA,SAAC,KAAD,UAAQF,EAAQ9C,KAAO6C,EAAO7C,KAAO,WAEvC,UAAC,KAAD,YACE,SAAC,KAAD,CACE+C,GAAG,OACH/C,KAAK,OACLkD,aAAa,MACb5C,UAAQ,KAEV,SAAC,KAAD,CAAO0C,QAAQ,OAAf,2BACA,SAAC,KAAD,UAAQF,EAAQ7C,KAAO4C,EAAO5C,KAAO,WAEvC,4BACE,SAAC,IAAD,CACEkD,WAAY,CACVJ,GAAI,SAEN/C,KAAK,QACLkD,aAAa,MACbE,QAAS,KACTC,YAAY,eACZC,MAAOjC,EACPkC,SAAU,SAAAD,GAAK,OAAIhC,EAAegC,EAAnB,IAGhB/B,GAAe,SAAC,KAAD,UAAQA,IAAwB,YAIpD,UAAC,EAAD,CAAe7B,QAAkB,IAATuB,EAAxB,WACE,SAAC,KAAD,CACEgC,KAAK,SACLO,QAAS,kBAlIR,SAACX,EAAQC,GACtBpB,QAAQC,IAAIkB,EAAQC,GACfA,EAAQjD,OAAUiD,EAAQhD,UAAagD,EAAQ/C,iBAClDqB,EAAa,kBAGZyB,EAAOhD,QACPgD,EAAO/C,WACP+C,EAAO9C,iBACR+C,EAAQjD,OACRiD,EAAQhD,UACRgD,EAAQ/C,kBAERmB,GAAQ,SAAAiB,GAAS,OAAIA,EAAY,CAAhB,IACjBf,EAAa,MAEhB,CAkH4BqC,CAAOZ,EAAQC,EAArB,EAFX,mBAMA,SAAC,KAAD,UAAQ3B,QAGV,UAAC,EAAD,CAAezB,QAAkB,IAATuB,EAAxB,WACE,4BACE,SAAC,KAAD,CAAcgC,KAAK,SAASS,SAAUd,EAAtC,SACGA,GACC,SAAC,KAAD,CAAee,KAAK,sBAAsBC,KAAK,YAE/C,0CAGJ,SAAC,KAAD,UAAQ9B,QAEV,0BACE,SAAC,KAAD,CACEmB,KAAK,SACLS,SAAUd,EACVY,QAAStB,EAHX,wBAUJ,6BACE,SAAC,KAAD,6CACA,SAAC,KAAD,CACE2B,GAAI,SAEJL,QAAS,WACP5B,EAASe,EAAAA,EAAAA,cACV,EACDmB,KAAG,EANL,kBAEO,aA/GZ,KA6HR,CC5Oc,SAASC,IACtB,IAAMC,EAAWC,OAAOC,WAAW,sCAC7BC,EAAWF,OAAOC,WACtB,8DAEIE,EAAOH,OAAOC,WAAW,uCAE/B,OACE,iCACE,SAACrF,EAAD,WACE,SAACkC,EAAD,MAEDiD,EAASxD,UAAW,SAACxB,EAAD,IACpBmF,EAAS3D,UAAW,SAACtB,EAAD,IACpBkF,EAAK5D,UAAW,SAACpB,EAAD,MAGtB,C","sources":["pages/RegisterPage/style.js","components/baseComponents/FieldsWrapper/style.js","components/baseComponents/FieldsWrapper/FieldsWrapper.jsx","components/AuthForm/RegisterForm.jsx","pages/RegisterPage/RegisterPage.jsx"],"sourcesContent":["import { ReactComponent as BackgroundMobileIcon } from '../../images/mobileBackground.svg';\nimport { ReactComponent as BackgroundTabletIcon } from '../../images/tabletBackground.svg';\nimport { ReactComponent as BackgroundPCIcon } from '../../images/pcBackground.svg';\n\nimport styled from 'styled-components';\n\nexport const PageWrapper = styled.div`\n  width: 100vw;\n  height: 100%;\n  display: flex;\n  flexDirection: column;\n  justify-content: center;\n  align-items: start;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n}}`;\n\nconst styleForBackgroundImg = `position: absolute;\nbottom: 0px;\nwidth: 100%;\nzIndex: 0;`;\nexport const BackgroundMobileIconStyled = styled(BackgroundMobileIcon)`\n  ${styleForBackgroundImg}\n`;\nexport const BackgroundTabletIconStyled = styled(BackgroundTabletIcon)`\n  ${styleForBackgroundImg}\n`;\nexport const BackgroundPCIconStyled = styled(BackgroundPCIcon)`\n  ${styleForBackgroundImg}\n`;\n","import styled from 'styled-components';\n\nexport const Div = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n\n  gap: ${p => p.theme.space[5] + 'px'};\n\n  visibility: ${p => (p.visible ? 'visible' : 'hidden')};\n  display: ${p => (p.visible ? 'flex' : 'none')};\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Div } from './style';\n\nconst FieldsWrapper = ({ visible, children }) => {\n  return <Div visible={visible}>{children}</Div>;\n};\n\nFieldsWrapper.propTypes = {\n  visible: PropTypes.bool,\n  children: PropTypes.any,\n};\n\nexport default FieldsWrapper;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport authOperations from 'redux/auth/authOperations';\nimport { Formik } from 'formik';\n\nimport FieldsWrapper from '../baseComponents/FieldsWrapper/FieldsWrapper';\nimport {\n  FormStyled,\n  FieldStyled,\n  ButtonStyled,\n  Header,\n  Error,\n  NavLinkStyled,\n  BottomText,\n  ButtonType2Styled,\n  SpinnerStyled,\n  FieldWrapper,\n  Label,\n} from './style';\nimport * as yup from 'yup';\n\nimport PhoneInput from 'react-phone-input-2';\nimport './material.css';\n\nconst initialValues = {\n  email: '',\n  password: '',\n  confirmPassword: '',\n  name: '',\n  city: '',\n  phone: '',\n};\n\nconst phoneRegExp = /^(\\+\\d{1,3}[- ]?)?\\d{10}$/;\n\nconst validationSchema = yup.object({\n  email: yup.string().email('Invalid email format').required('Required'),\n  password: yup\n    .string()\n    .min(8, 'Password is too short - should be 8 chars minimum.')\n    .matches(\n      /^[a-zA-Z0-9!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?]*$/,\n      'Password can only contain Latin letters.'\n    )\n    .required('No password provided'),\n  confirmPassword: yup.string().when('password', {\n    is: val => (val && val.length > 0 ? true : false),\n    then: yup\n      .string()\n      .oneOf([yup.ref('password')], 'Both password need to be the same'),\n  }),\n  name: yup.string().required('Required'),\n  city: yup.string().required('Required'),\n});\n\nexport default function RegisterForm() {\n  const [step, setStep] = useState(1);\n  const [nextError, setNextError] = useState(null);\n\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [isPhoneValid, setPhoneIsValid] = useState(null);\n\n  useEffect(() => {\n    console.log(step);\n  }, [step]);\n\n  const dispatch = useDispatch();\n\n  const isError = useSelector(state => state.auth.isError);\n\n  const onNext = (errors, touched) => {\n    console.log(errors, touched);\n    if (!touched.email || !touched.password || !touched.confirmPassword) {\n      setNextError('Fill all data');\n    }\n    if (\n      !errors.email &&\n      !errors.password &&\n      !errors.confirmPassword &&\n      touched.email &&\n      touched.password &&\n      touched.confirmPassword\n    ) {\n      setStep(prevState => prevState + 1);\n      setNextError(null);\n    }\n  };\n\n  const onPrevious = () => {\n    setStep(prevState => prevState - 1);\n  };\n\n  const phoneValidation = () => {\n    return phoneRegExp.test(`+${phoneNumber}`);\n  };\n\n  const onSubmit = async (values, { setSubmitting }) => {\n    console.log(values);\n    const { name: username, email, city, password } = values;\n    const phone = `+${phoneNumber}`;\n    const data = { username, email, city, phone, password };\n\n    try {\n      console.log(phoneValidation());\n      if (phoneValidation()) {\n        setPhoneIsValid(null);\n        await dispatch(authOperations.register(data));\n      } else setPhoneIsValid('incorrect phone number');\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={onSubmit}\n        validationSchema={validationSchema}\n      >\n        {({ isSubmitting, errors, touched }) => (\n          <FormStyled>\n            <Header>Registration</Header>\n\n            <FieldsWrapper visible={step === 1 ? true : false}>\n              <FieldWrapper>\n                <FieldStyled id=\"email\" name=\"email\" required />\n                <Label htmlFor=\"email\">Email</Label>\n                <Error>{touched.email ? errors.email : null}</Error>\n              </FieldWrapper>\n\n              <FieldWrapper>\n                <FieldStyled\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  autoComplete=\"new-password\"\n                  required\n                />\n                <Label htmlFor=\"password\">Password</Label>\n                <Error>{touched.password ? errors.password : null}</Error>\n              </FieldWrapper>\n              <FieldWrapper>\n                <FieldStyled\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  name=\"confirmPassword\"\n                  autoComplete=\"new-password\"\n                  required\n                />\n                <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n                <Error>\n                  {touched.confirmPassword ? errors.confirmPassword : null}\n                </Error>\n              </FieldWrapper>\n            </FieldsWrapper>\n\n            <FieldsWrapper visible={step === 2 ? true : false}>\n              <FieldWrapper>\n                <FieldStyled\n                  id=\"name\"\n                  name=\"name\"\n                  autoComplete=\"off\"\n                  required\n                />\n                <Label htmlFor=\"name\">Name</Label>\n                <Error>{touched.name ? errors.name : null}</Error>\n              </FieldWrapper>\n              <FieldWrapper>\n                <FieldStyled\n                  id=\"city\"\n                  name=\"city\"\n                  autoComplete=\"off\"\n                  required\n                />\n                <Label htmlFor=\"city\">City, region</Label>\n                <Error>{touched.city ? errors.city : null}</Error>\n              </FieldWrapper>\n              <div>\n                <PhoneInput\n                  inputProps={{\n                    id: 'phone',\n                  }}\n                  name=\"phone\"\n                  autoComplete=\"off\"\n                  country={'ua'}\n                  placeholder=\"Mobile phone\"\n                  value={phoneNumber}\n                  onChange={value => setPhoneNumber(value)}\n                />\n\n                {isPhoneValid ? <Error>{isPhoneValid}</Error> : null}\n              </div>\n            </FieldsWrapper>\n\n            <FieldsWrapper visible={step === 1 ? true : false}>\n              <ButtonStyled\n                type=\"button\"\n                onClick={() => onNext(errors, touched)}\n              >\n                Next\n              </ButtonStyled>\n              <Error>{nextError}</Error>\n            </FieldsWrapper>\n\n            <FieldsWrapper visible={step === 2 ? true : false}>\n              <div>\n                <ButtonStyled type=\"submit\" disabled={isSubmitting}>\n                  {isSubmitting ? (\n                    <SpinnerStyled icon=\"fa-solid fa-spinner\" size=\"1.5rem\" />\n                  ) : (\n                    <span>Register</span>\n                  )}\n                </ButtonStyled>\n                <Error>{isError}</Error>\n              </div>\n              <div>\n                <ButtonType2Styled\n                  type=\"button\"\n                  disabled={isSubmitting}\n                  onClick={onPrevious}\n                >\n                  Back\n                </ButtonType2Styled>\n              </div>\n            </FieldsWrapper>\n\n            <span>\n              <BottomText>Already have an account? &nbsp;</BottomText>\n              <NavLinkStyled\n                to={'/login'}\n                key={'home'}\n                onClick={() => {\n                  dispatch(authOperations.eraseErrors());\n                }}\n                end\n              >\n                Login\n              </NavLinkStyled>\n            </span>\n          </FormStyled>\n        )}\n      </Formik>\n    </>\n  );\n}\n","import React from 'react';\n\nimport {\n  PageWrapper,\n  BackgroundMobileIconStyled,\n  BackgroundTabletIconStyled,\n  BackgroundPCIconStyled,\n} from './style';\n\nimport RegisterForm from 'components/AuthForm/RegisterForm';\n\nexport default function RegisterPage() {\n  const isMobile = window.matchMedia('only screen and (max-width: 767px)');\n  const isTablet = window.matchMedia(\n    'only screen and (max-width: 1279px) and (min-width: 768px)'\n  );\n  const isPC = window.matchMedia('only screen and (min-width: 1280px)');\n\n  return (\n    <>\n      <PageWrapper>\n        <RegisterForm />\n      </PageWrapper>\n      {isMobile.matches && <BackgroundMobileIconStyled />}\n      {isTablet.matches && <BackgroundTabletIconStyled />}\n      {isPC.matches && <BackgroundPCIconStyled />}\n    </>\n  );\n}\n"],"names":["PageWrapper","styled","styleForBackgroundImg","BackgroundMobileIconStyled","BackgroundMobileIcon","BackgroundTabletIconStyled","BackgroundTabletIcon","BackgroundPCIconStyled","BackgroundPCIcon","Div","p","theme","space","visible","children","initialValues","email","password","confirmPassword","name","city","phone","phoneRegExp","validationSchema","yup","required","min","matches","when","is","val","length","then","oneOf","RegisterForm","useState","step","setStep","nextError","setNextError","phoneNumber","setPhoneNumber","isPhoneValid","setPhoneIsValid","useEffect","console","log","dispatch","useDispatch","isError","useSelector","state","auth","onPrevious","prevState","phoneValidation","test","onSubmit","values","setSubmitting","username","data","authOperations","isSubmitting","errors","touched","id","htmlFor","type","autoComplete","inputProps","country","placeholder","value","onChange","onClick","onNext","disabled","icon","size","to","end","RegisterPage","isMobile","window","matchMedia","isTablet","isPC"],"sourceRoot":""}