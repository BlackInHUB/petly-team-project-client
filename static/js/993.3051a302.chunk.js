"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[993],{993:function(n,e,r){r.r(e),r.d(e,{default:function(){return H}});var s,i,t,o,a,c=r(2791),l=r(168),d=r(8293),u=r(9866),h=r(9922),m=r(6444),x=m.ZP.div(s||(s=(0,l.Z)(["\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  z-index: 1;\n  transform: translateY(-50%);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n"]))),p="position: absolute;\nbottom: 0px;\nwidth: 100%;\nzIndex: 0;",w=(0,m.ZP)(d.r)(i||(i=(0,l.Z)(["\n  ","\n"])),p),j=(0,m.ZP)(u.r)(t||(t=(0,l.Z)(["\n  ","\n"])),p),f=(0,m.ZP)(h.r)(o||(o=(0,l.Z)(["\n  ","\n"])),p),Z=r(5861),b=r(9439),v=r(7757),y=r.n(v),g=r(9434),P=r(1980),k=r(6661),C=r(5705),_=r(8129),S=r(218),q=r(1243),z=r(3238),E=r(5737),R=r.n(E),A=(0,m.ZP)(R())(a||(a=(0,l.Z)(["\n  width: 100%;\n  #phone:hover,\n  #phone:focus {\n    border-color: ",";\n    box-shadow: 0 0 0 1px ",";\n  }\n  #phone {\n    background-color: ",";     \n    }\n  }\n  .special-label {\n    position: absolute;\n      z-index: 1;\n      top: -7px;\n      left: 25px;\n      display: block;\n      color: ",";\n\n      background: ",";\n      padding: 0 5px;\n      font-size: 14px;\n\n      white-space: nowrap;\n  }\n"])),(function(n){return n.theme.colors.hoveredAccent}),(function(n){return n.theme.colors.hoveredAccent}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.white})),$=r(1999),M=r(2797),N=r(184),B={email:"",password:"",confirmPassword:"",name:"",city:"",phone:""},I=/^\+\d{7,15}$/,F=M.Ry({email:M.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email format").required("Required"),password:M.Z_().min(7,"Password is too short - should be 7 chars minimum.").max(32,"Password is too long - should be 32 chars maximum.").matches(/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]*$/,"Password can only contain Latin letters, and without spaces.").required("No password provided"),confirmPassword:M.Z_().when("password",{is:function(n){return!!(n&&n.length>0)},then:M.Z_().oneOf([M.iH("password")],"Both password need to be the same")}),name:M.Z_().required("Required"),city:M.Z_().matches(/^\s*([A-Z\u0410-\u042f][a-z\u0430-\u044f]+,\s?)?[A-Z\u0410-\u042f][a-z\u0430-\u044f]+\s*$/,"put City, Region or only City").required("Required")});function L(){var n=(0,c.useState)(1),e=(0,b.Z)(n,2),r=e[0],s=e[1],i=(0,c.useState)(null),t=(0,b.Z)(i,2),o=t[0],a=t[1],l=(0,c.useState)(""),d=(0,b.Z)(l,2),u=d[0],h=d[1],m=(0,c.useState)(null),x=(0,b.Z)(m,2),p=x[0],w=x[1];(0,c.useEffect)((function(){}),[r]);var j=(0,g.I0)(),f=(0,P.a)().isError,v=function(){s((function(n){return n-1})),j(k.Z.eraseErrors())},E=function(){return I.test("+".concat(u))},R=function(){var n=(0,Z.Z)(y().mark((function n(e,r){var s,i,t,o,a,c,l;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=r.setSubmitting,i=e.name,t=e.email,o=e.city,a=e.password,c="+".concat(u),l={name:i,email:t,city:o,phone:c,password:a},n.prev=4,!E()){n.next=11;break}return w(null),n.next=9,j(k.Z.register(l));case 9:n.next=12;break;case 11:w("incorrect phone number");case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(4);case 16:return n.prev=16,s(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[4,14,16,19]])})));return function(e,r){return n.apply(this,arguments)}}();return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(C.J9,{initialValues:B,onSubmit:R,validationSchema:F,children:function(n){var e=n.isSubmitting,i=n.errors,t=n.touched,c=n.values;return(0,N.jsxs)($.tN,{children:[(0,N.jsx)($.h4,{children:"Registration"}),(0,N.jsxs)(z.Z,{visible:1===r,children:[(0,N.jsx)(q.Z,{name:"email",text:"Email",children:(0,N.jsx)($.jj,{children:t.email?i.email:null})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(q.Z,{name:"password",password:!0,text:"Password"}),(0,N.jsx)($.jj,{children:t.password?i.password:null})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(q.Z,{name:"confirmPassword",password:!0,text:"Confirm Password"}),(0,N.jsx)($.jj,{children:t.confirmPassword?i.confirmPassword:null})]})]}),(0,N.jsxs)(z.Z,{visible:2===r,children:[(0,N.jsx)(q.Z,{name:"name",text:"Name",children:(0,N.jsx)($.jj,{children:t.name?i.name:null})}),(0,N.jsx)(q.Z,{name:"city",text:"City, region",children:(0,N.jsx)($.jj,{children:t.city?i.city:null})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(A,{inputProps:{id:"phone"},onBlur:function(){E()?w(null):w("incorrect phone number")},countryCodeEditable:!1,name:"phone",autoComplete:"off",country:"ua",placeholder:"Mobile phone",value:u,onChange:function(n){h(n)}}),p?(0,N.jsx)($.jj,{children:p}):null]})]}),(0,N.jsxs)(z.Z,{visible:1===r,children:[(0,N.jsx)(_.Z,{onClick:function(){return function(n,e){console.log(e),e.email&&e.password&&e.confirmPassword||a("Please, enter all data"),!n.email&&!n.password&&!n.confirmPassword&&e.email&&e.password&&e.confirmPassword&&(s((function(n){return n+1})),a(null),j(k.Z.eraseErrors()))}(i,c)},children:"Next"}),(0,N.jsx)($.jj,{children:o})]}),(0,N.jsxs)(z.Z,{visible:2===r,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(_.Z,{type:"submit",disabled:e,children:e?(0,N.jsx)(S.Z,{}):(0,N.jsx)("span",{children:"Register"})}),(0,N.jsx)($.jj,{children:f})]}),(0,N.jsx)("div",{children:(0,N.jsx)(_.Z,{buttonStyle:"secondary",disabled:e,onClick:v,children:"Back"})})]}),(0,N.jsxs)("span",{children:[(0,N.jsx)($.il,{children:"Already have an account? \xa0"}),(0,N.jsx)($.w2,{to:"/login",onClick:function(){j(k.Z.eraseErrors())},end:!0,children:"Login"},"home")]})]})}})})}function H(){var n=window.matchMedia("only screen and (max-width: 767px)"),e=window.matchMedia("only screen and (max-width: 1279px) and (min-width: 768px)"),r=window.matchMedia("only screen and (min-width: 1280px)");return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(x,{children:(0,N.jsx)(L,{})}),n.matches&&(0,N.jsx)(w,{}),e.matches&&(0,N.jsx)(j,{}),r.matches&&(0,N.jsx)(f,{})]})}}}]);
//# sourceMappingURL=993.3051a302.chunk.js.map