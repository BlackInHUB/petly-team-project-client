"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[666],{666:function(n,e,r){r.r(e),r.d(e,{default:function(){return L}});var s,t,i,o,a,c,l=r(2791),d=r(168),u=r(8293),h=r(9866),m=r(9922),x=r(6444),p=x.ZP.div(s||(s=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  z-index: 1;\n  transform: translateY(-50%);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n"]))),f="position: absolute;\nbottom: 0px;\nwidth: 100%;\nzIndex: 0;",j=(0,x.ZP)(u.r)(t||(t=(0,d.Z)(["\n  ","\n"])),f),w=(0,x.ZP)(h.r)(i||(i=(0,d.Z)(["\n  ","\n"])),f),Z=(0,x.ZP)(m.r)(o||(o=(0,d.Z)(["\n  ","\n"])),f),b=r(5861),y=r(9439),v=r(7757),P=r.n(v),g=r(9434),k=r(1980),C=r(5822),_=r(5705),S=r(8129),E=r(218),z=r(1243),N=r(3238),A=r(5737),R=r.n(A),V=(0,x.ZP)(R())(a||(a=(0,d.Z)(["\n  width: 100%;\n  #phone:hover,\n  #phone:focus {\n    border-color: ",";\n    box-shadow: 0 0 0 1px ",";\n  }\n  #phone {\n    background-color: ",";     \n    }\n  }\n  .special-label {\n    position: absolute;\n      z-index: 1;\n      top: -7px;\n      left: 25px;\n      display: block;\n      color: ",";\n\n      background: ",";\n      padding: 0 5px;\n      font-size: 14px;\n\n      white-space: nowrap;\n  }\n"])),(function(n){return n.theme.colors.hoveredAccent}),(function(n){return n.theme.colors.hoveredAccent}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.white})),I=x.ZP.div(c||(c=(0,d.Z)(["\n  position: relative;\n"]))),$=r(1999),M=r(184),B=function(n){var e=n.phoneNumber,r=n.setPhoneNumber,s=n.isPhoneValid,t=n.setPhoneIsValid,i=/^\+\d{7,15}$/,o=function(n){return i.test("+".concat(n))};return(0,M.jsxs)(I,{children:[(0,M.jsx)(V,{inputProps:{id:"phone"},onBlur:function(){console.log(e),o(e)?t(null):t("incorrect phone number")},countryCodeEditable:!1,name:"phone",autoComplete:"off",country:"ua",placeholder:"Mobile phone",value:e,onChange:function(n){r(n),o(n)&&t(null)}}),s&&(0,M.jsx)($.jj,{children:s})]})},F=r(2797),D={email:"",password:"",confirmPassword:"",name:"",city:""},H=F.Ry({email:F.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email format"),password:F.Z_().min(7,"should be 7 chars minimum").max(32,"should be 32 chars maximum").matches(/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]*$/,"letters, numbers, symbols"),confirmPassword:F.Z_().when("password",{is:function(n){return!!(n&&n.length>0)},then:F.Z_().oneOf([F.iH("password")],"Passwords vary")}),name:F.Z_(),city:F.Z_().matches(/^\s*([A-Z\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\u0410-\u042f][a-z\u0430-\u044f]+,\s?)?[A-Z\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\u0410-\u042f][a-z\u0430-\u044f]+\s*$/,"put City, Region or only City")});function J(){var n=(0,l.useState)(1),e=(0,y.Z)(n,2),r=e[0],s=e[1],t=(0,l.useState)(null),i=(0,y.Z)(t,2),o=i[0],a=i[1],c=(0,l.useState)(null),d=(0,y.Z)(c,2),u=d[0],h=d[1],m=(0,l.useState)(""),x=(0,y.Z)(m,2),p=x[0],f=x[1],j=(0,l.useState)(null),w=(0,y.Z)(j,2),Z=w[0],v=w[1],A=l.createRef();(0,l.useEffect)((function(){}),[r]);var R=(0,g.I0)(),V=(0,k.a)().isError,I=function(){s((function(n){return n-1})),R(C.Z.eraseErrors())},F=function(){var n=(0,b.Z)(P().mark((function n(e,r,s,t){var i,o;return P().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),i="+".concat(p),o={email:s.email,password:s.password,name:s.name,city:s.city,phone:i},console.log(o),n.prev=4,t(!0),r.name||r.city||Z||!s.name||!s.city||!i){n.next=13;break}return console.log(o),h(null),n.next=11,R(C.Z.register(o));case 11:n.next=15;break;case 13:console.log(!r.name,!r.city,!Z,s.name,s.city,i),h("Enter all data");case 15:n.next=19;break;case 17:n.prev=17,n.t0=n.catch(4);case 19:return n.prev=19,t(!1),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[4,17,19,22]])})));return function(e,r,s,t){return n.apply(this,arguments)}}();return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(_.J9,{initialValues:D,validationSchema:H,innerRef:A,children:function(n){var e=n.setSubmitting,t=n.isSubmitting,i=n.errors,c=n.touched,l=n.values;return(0,M.jsxs)($.tN,{onSubmit:function(n){return F(n,i,l,e)},noValidate:!0,children:[(0,M.jsx)($.h4,{children:"Registration"}),(0,M.jsxs)(N.Z,{visible:1===r,children:[(0,M.jsx)(z.Z,{name:"email",text:"Email",children:c.email&&i.email&&(0,M.jsx)($.jj,{children:i.email})}),(0,M.jsx)(z.Z,{name:"password",password:!0,text:"Password",children:c.password&&i.password&&(0,M.jsx)($.jj,{children:i.password})}),(0,M.jsx)(z.Z,{name:"confirmPassword",password:!0,text:"Confirm Password",children:c.confirmPassword&&i.confirmPassword&&(0,M.jsx)($.jj,{children:i.confirmPassword})})]}),(0,M.jsxs)(N.Z,{visible:2===r,children:[(0,M.jsx)(z.Z,{name:"name",text:"Name",children:c.name&&i.name&&(0,M.jsx)($.jj,{children:i.name})}),(0,M.jsx)(z.Z,{name:"city",text:"City, region",children:c.city&&i.city&&(0,M.jsx)($.jj,{children:i.city})}),(0,M.jsx)(B,{phoneNumber:p,setPhoneNumber:f,isPhoneValid:Z,setPhoneIsValid:v})]}),(0,M.jsx)(N.Z,{visible:1===r,children:(0,M.jsxs)(S.Z,{onClick:function(){return function(n,e){console.log(e,p),e.email&&e.password&&e.confirmPassword||a("Please, enter all data"),!n.email&&!n.password&&!n.confirmPassword&&e.email&&e.password&&e.confirmPassword&&(s((function(n){return n+1})),a(null),R(C.Z.eraseErrors()))}(i,l)},children:["Next ",o&&(0,M.jsx)($.jj,{children:o})]})}),(0,M.jsxs)(N.Z,{visible:2===r,children:[(0,M.jsxs)(S.Z,{type:"submit",disabled:t,children:[t?(0,M.jsx)(E.Z,{}):(0,M.jsx)("span",{children:"Register"}),u&&(0,M.jsx)($.jj,{children:u}),!u&&V&&(0,M.jsx)($.jj,{children:V})]}),(0,M.jsx)("div",{children:(0,M.jsx)(S.Z,{buttonStyle:"secondary",disabled:t,onClick:I,children:"Back"})})]}),(0,M.jsxs)("span",{children:[(0,M.jsx)($.il,{children:"Already have an account? \xa0"}),(0,M.jsx)($.w2,{to:"/login",onClick:function(){R(C.Z.eraseErrors())},end:!0,children:"Login"},"home")]})]})}})})}function L(){var n=window.matchMedia("only screen and (max-width: 767px)"),e=window.matchMedia("only screen and (max-width: 1279px) and (min-width: 768px)"),r=window.matchMedia("only screen and (min-width: 1280px)");return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(p,{children:(0,M.jsx)(J,{})}),n.matches&&(0,M.jsx)(j,{}),e.matches&&(0,M.jsx)(w,{}),r.matches&&(0,M.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=666.d6b3fc55.chunk.js.map