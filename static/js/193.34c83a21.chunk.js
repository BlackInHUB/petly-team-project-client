"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[193],{7193:function(e,n,i){i.r(n),i.d(n,{default:function(){return I}});var r,s,t,o,a,l=i(2791),c=i(168),d=i(8293),u=i(9866),h=i(9922),m=i(6444),x=m.ZP.div(r||(r=(0,c.Z)(["\n  width: 100vw;\n  height: 100%;\n  display: flex;\n  flexDirection: column;\n  justify-content: center;\n  align-items: start;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n}}"]))),p="position: absolute;\nbottom: 0px;\nwidth: 100%;\nzIndex: 0;",j=(0,m.ZP)(d.r)(s||(s=(0,c.Z)(["\n  ","\n"])),p),f=(0,m.ZP)(u.r)(t||(t=(0,c.Z)(["\n  ","\n"])),p),w=(0,m.ZP)(h.r)(o||(o=(0,c.Z)(["\n  ","\n"])),p),v=i(5861),b=i(9439),y=i(7757),Z=i.n(y),g=i(9434),_=i(5725),P=i(5705),k=m.ZP.div(a||(a=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n\n  gap: ",";\n\n  visibility: ",";\n  display: ",";\n"])),(function(e){return e.theme.space[5]+"px"}),(function(e){return e.visible?"visible":"hidden"}),(function(e){return e.visible?"flex":"none"})),C=i(184),q=function(e){var n=e.visible,i=e.children;return(0,C.jsx)(k,{visible:n,children:i})},F=i(6886),S=i(2797),R=i(5737),G=i.n(R),z={email:"",password:"",confirmPassword:"",name:"",city:"",phone:""},E=/^(\+\d{1,3}[- ]?)?\d{10}$/,M=S.Ry({email:S.Z_().email("Invalid email format").required("Required"),password:S.Z_().min(8,"Password is too short - should be 8 chars minimum.").matches(/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]*$/,"Password can only contain Latin letters.").required("No password provided"),confirmPassword:S.Z_().when("password",{is:function(e){return!!(e&&e.length>0)},then:S.Z_().oneOf([S.iH("password")],"Both password need to be the same")}),name:S.Z_().required("Required"),city:S.Z_().required("Required")});function N(){var e=(0,l.useState)(1),n=(0,b.Z)(e,2),i=n[0],r=n[1],s=(0,l.useState)(null),t=(0,b.Z)(s,2),o=t[0],a=t[1],c=(0,l.useState)(""),d=(0,b.Z)(c,2),u=d[0],h=d[1],m=(0,l.useState)(null),x=(0,b.Z)(m,2),p=x[0],j=x[1];(0,l.useEffect)((function(){console.log(i)}),[i]);var f=(0,g.I0)(),w=(0,g.v9)((function(e){return e.auth.isError})),y=function(){r((function(e){return e-1}))},k=function(){return E.test("+".concat(u))},S=function(){var e=(0,v.Z)(Z().mark((function e(n,i){var r,s,t,o,a,l,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.setSubmitting,console.log(n),s=n.name,t=n.email,o=n.city,a=n.password,l="+".concat(u),c={username:s,email:t,city:o,phone:l,password:a},e.prev=5,console.log(k()),!k()){e.next=13;break}return j(null),e.next=11,f(_.Z.register(c));case 11:e.next=14;break;case 13:j("incorrect phone number");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:return e.prev=19,r(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})));return function(n,i){return e.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(P.J9,{initialValues:z,onSubmit:S,validationSchema:M,children:function(e){var n=e.isSubmitting,s=e.errors,t=e.touched;return(0,C.jsxs)(F.tN,{children:[(0,C.jsx)(F.h4,{children:"Registration"}),(0,C.jsxs)(q,{visible:1===i,children:[(0,C.jsxs)(F.n2,{children:[(0,C.jsx)(F.sG,{id:"email",name:"email",required:!0}),(0,C.jsx)(F.__,{htmlFor:"email",children:"Email"}),(0,C.jsx)(F.jj,{children:t.email?s.email:null})]}),(0,C.jsxs)(F.n2,{children:[(0,C.jsx)(F.sG,{id:"password",type:"password",name:"password",autoComplete:"new-password",required:!0}),(0,C.jsx)(F.__,{htmlFor:"password",children:"Password"}),(0,C.jsx)(F.jj,{children:t.password?s.password:null})]}),(0,C.jsxs)(F.n2,{children:[(0,C.jsx)(F.sG,{id:"confirmPassword",type:"password",name:"confirmPassword",autoComplete:"new-password",required:!0}),(0,C.jsx)(F.__,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,C.jsx)(F.jj,{children:t.confirmPassword?s.confirmPassword:null})]})]}),(0,C.jsxs)(q,{visible:2===i,children:[(0,C.jsxs)(F.n2,{children:[(0,C.jsx)(F.sG,{id:"name",name:"name",autoComplete:"off",required:!0}),(0,C.jsx)(F.__,{htmlFor:"name",children:"Name"}),(0,C.jsx)(F.jj,{children:t.name?s.name:null})]}),(0,C.jsxs)(F.n2,{children:[(0,C.jsx)(F.sG,{id:"city",name:"city",autoComplete:"off",required:!0}),(0,C.jsx)(F.__,{htmlFor:"city",children:"City, region"}),(0,C.jsx)(F.jj,{children:t.city?s.city:null})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(G(),{inputProps:{id:"phone"},name:"phone",autoComplete:"off",country:"ua",placeholder:"Mobile phone",value:u,onChange:function(e){return h(e)}}),p?(0,C.jsx)(F.jj,{children:p}):null]})]}),(0,C.jsxs)(q,{visible:1===i,children:[(0,C.jsx)(F.OQ,{type:"button",onClick:function(){return function(e,n){console.log(e,n),n.email&&n.password&&n.confirmPassword||a("Fill all data"),!e.email&&!e.password&&!e.confirmPassword&&n.email&&n.password&&n.confirmPassword&&(r((function(e){return e+1})),a(null))}(s,t)},children:"Next"}),(0,C.jsx)(F.jj,{children:o})]}),(0,C.jsxs)(q,{visible:2===i,children:[(0,C.jsxs)("div",{children:[(0,C.jsx)(F.OQ,{type:"submit",disabled:n,children:n?(0,C.jsx)(F.yr,{icon:"fa-solid fa-spinner",size:"1.5rem"}):(0,C.jsx)("span",{children:"Register"})}),(0,C.jsx)(F.jj,{children:w})]}),(0,C.jsx)("div",{children:(0,C.jsx)(F.Wz,{type:"button",disabled:n,onClick:y,children:"Back"})})]}),(0,C.jsxs)("span",{children:[(0,C.jsx)(F.il,{children:"Already have an account? \xa0"}),(0,C.jsx)(F.w2,{to:"/login",onClick:function(){f(_.Z.eraseErrors())},end:!0,children:"Login"},"home")]})]})}})})}function I(){var e=window.matchMedia("only screen and (max-width: 767px)"),n=window.matchMedia("only screen and (max-width: 1279px) and (min-width: 768px)"),i=window.matchMedia("only screen and (min-width: 1280px)");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x,{children:(0,C.jsx)(N,{})}),e.matches&&(0,C.jsx)(j,{}),n.matches&&(0,C.jsx)(f,{}),i.matches&&(0,C.jsx)(w,{})]})}}}]);
//# sourceMappingURL=193.34c83a21.chunk.js.map