"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[666],{666:function(n,e,r){r.r(e),r.d(e,{default:function(){return q}});var i,t,s,o,a,c,l,d=r(9439),u=r(2791),h=r(6641),m=r(168),x=r(8293),p=r(9866),f=r(9922),j=r(6444),w=j.ZP.div(i||(i=(0,m.Z)(["\n  width: 100%;\n  z-index: 1;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (min-width: 768px) {\n    align-items: center;\n  }\n"]))),Z="position: fixed;\nbottom: 0px;\nwidth: 100%;\nz-index: -1;",b=(0,j.ZP)(x.r)(t||(t=(0,m.Z)(["\n  ","\n"])),Z),v=(0,j.ZP)(p.r)(s||(s=(0,m.Z)(["\n  ","\n"])),Z),P=(0,j.ZP)(f.r)(o||(o=(0,m.Z)(["\n  ","\n"])),Z),y=r(5861),g=r(7757),k=r.n(g),C=r(9434),E=r(1980),z=r(5822),S=r(5705),_=r(8129),N=r(218),A=r(1243),R=r(3238),V=r(5737),$=r.n(V),I=(0,j.ZP)($())(a||(a=(0,m.Z)(["\n  width: 100%;\n  #phone:hover,\n  #phone:focus {\n    border-color: ",";\n    box-shadow: 0 0 0 1px ",";\n  }\n  #phone {\n    background-color: ",";     \n    }\n  }\n  .special-label {\n    position: absolute;\n      z-index: 1;\n      top: -7px;\n      left: 25px;\n      display: block;\n      color: ",";\n\n      background: transparent;\n      padding: 0 5px;\n      font-size: 14px;\n\n      white-space: nowrap;\n      z-index: 2;\n  }\n  \n"])),(function(n){return n.theme.colors.hoveredAccent}),(function(n){return n.theme.colors.hoveredAccent}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.text})),D=j.ZP.label(c||(c=(0,m.Z)(["\n  position: absolute;\n  left: 25px;\n  top: -2px;\n  height: 4px;\n  padding-right: 2px;\n  background-color: ",";\n  color: transparent;\n  z-index: 1;\n"])),(function(n){return n.theme.colors.background})),L=j.ZP.div(l||(l=(0,m.Z)(["\n  position: relative;\n"]))),W=r(1999),B=r(184),F=function(n){var e=n.phoneNumber,r=n.setPhoneNumber,i=n.isPhoneValid,t=n.setPhoneIsValid,s=/^\+\d{12,15}$/,o=function(n){return s.test("+".concat(n))};return(0,B.jsxs)(L,{children:[(0,B.jsx)(I,{inputProps:{id:"phone"},onBlur:function(){o(e)?t(null):t("incorrect phone number")},countryCodeEditable:!1,name:"phone",autoComplete:"off",country:"ua",placeholder:"Mobile phone",value:e,onChange:function(n){r(n),o(n)&&t(null)}}),(0,B.jsx)(D,{children:"Phone"}),i&&(0,B.jsx)(W.jj,{children:i})]})},H=r(2797),J={email:"",password:"",confirmPassword:"",name:"",city:""},M=H.Ry({email:H.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email format"),password:H.Z_().min(7,"should be 7 chars minimum").max(32,"should be 32 chars maximum").matches(/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]*$/,"letters, numbers, symbols"),confirmPassword:H.Z_().when("password",{is:function(n){return!!(n&&n.length>0)},then:H.Z_().oneOf([H.iH("password")],"Passwords vary")}),name:H.Z_(),city:H.Z_().matches(/^\s*([A-Z\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\u0410-\u042f][a-z\u0430-\u044f]+,\s?)?[A-Z\u0451\u0401\u0407\u0457\u0406\u0456\u0404\u0454\u0490\u0491\u0410-\u042f][a-z\u0430-\u044f]+\s*$/,"put City, Region or only City")});function O(){var n=(0,u.useState)(1),e=(0,d.Z)(n,2),r=e[0],i=e[1],t=(0,u.useState)(null),s=(0,d.Z)(t,2),o=s[0],a=s[1],c=(0,u.useState)(null),l=(0,d.Z)(c,2),h=l[0],m=l[1],x=(0,u.useState)(""),p=(0,d.Z)(x,2),f=p[0],j=p[1],w=(0,u.useState)(null),Z=(0,d.Z)(w,2),b=Z[0],v=Z[1],P=u.createRef();(0,u.useEffect)((function(){}),[r]);var g=(0,C.I0)(),V=(0,E.a)().isError,$=function(){i((function(n){return n-1})),g(z.Z.eraseErrors())},I=function(){var n=(0,y.Z)(k().mark((function n(e,r,i,t){var s,o;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),s="+".concat(f),o={email:i.email,password:i.password,name:i.name,city:i.city,phone:s},n.prev=3,t(!0),r.name||r.city||b||!i.name||!i.city||!s){n.next=11;break}return m(null),n.next=9,g(z.Z.register(o));case 9:n.next=12;break;case 11:m("Enter all data");case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(3);case 16:return n.prev=16,t(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,14,16,19]])})));return function(e,r,i,t){return n.apply(this,arguments)}}();return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(S.J9,{initialValues:J,validationSchema:M,innerRef:P,children:function(n){var e=n.setSubmitting,t=n.isSubmitting,s=n.errors,c=n.touched,l=n.values;return(0,B.jsxs)(W.tN,{onSubmit:function(n){return I(n,s,l,e)},noValidate:!0,children:[(0,B.jsx)(W.h4,{children:"Registration"}),(0,B.jsxs)(R.Z,{visible:1===r,children:[(0,B.jsx)(A.Z,{name:"email",text:"Email",children:c.email&&s.email&&(0,B.jsx)(W.jj,{children:s.email})}),(0,B.jsx)(A.Z,{name:"password",password:!0,text:"Password",children:c.password&&s.password&&(0,B.jsx)(W.jj,{children:s.password})}),(0,B.jsx)(A.Z,{name:"confirmPassword",password:!0,text:"Confirm Password",children:c.confirmPassword&&s.confirmPassword&&(0,B.jsx)(W.jj,{children:s.confirmPassword})})]}),(0,B.jsxs)(R.Z,{visible:2===r,children:[(0,B.jsx)(A.Z,{name:"name",text:"Name",children:c.name&&s.name&&(0,B.jsx)(W.jj,{children:s.name})}),(0,B.jsx)(A.Z,{name:"city",text:"City, region",children:c.city&&s.city&&(0,B.jsx)(W.jj,{children:s.city})}),(0,B.jsx)(F,{phoneNumber:f,setPhoneNumber:j,isPhoneValid:b,setPhoneIsValid:v})]}),(0,B.jsx)(R.Z,{visible:1===r,children:(0,B.jsxs)(_.Z,{onClick:function(){return function(n,e){e.email&&e.password&&e.confirmPassword||a("Please, enter all data"),!n.email&&!n.password&&!n.confirmPassword&&e.email&&e.password&&e.confirmPassword&&(i((function(n){return n+1})),a(null),g(z.Z.eraseErrors()))}(s,l)},children:["Next ",o&&(0,B.jsx)(W.jj,{children:o})]})}),(0,B.jsxs)(R.Z,{visible:2===r,children:[(0,B.jsxs)(_.Z,{type:"submit",disabled:t,children:[t?(0,B.jsx)(N.Z,{}):(0,B.jsx)("span",{children:"Register"}),h&&(0,B.jsx)(W.jj,{children:h}),!h&&V&&(0,B.jsx)(W.jj,{children:V})]}),(0,B.jsx)("div",{children:(0,B.jsx)(_.Z,{buttonStyle:"secondary",disabled:t,onClick:$,children:"Back"})})]}),(0,B.jsxs)("span",{children:[(0,B.jsx)(W.il,{children:"Already have an account? \xa0"}),(0,B.jsx)(W.w2,{to:"/login",onClick:function(){g(z.Z.eraseErrors())},end:!0,children:"Login"},"home")]})]})}})})}function q(){var n=(0,u.useState)(window.innerWidth),e=(0,d.Z)(n,2),r=e[0],i=e[1];return(0,u.useEffect)((function(){(0,h.D)((function(){i(window.innerWidth)}),300)}),[r]),(0,u.useEffect)((function(){var n=(0,h.D)((function(){i(window.innerWidth)}),300);return window.addEventListener("resize",n),function(e){window.removeEventListener("resize",n)}})),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(w,{children:(0,B.jsx)(O,{})}),r<=767&&(0,B.jsx)(b,{}),768<=r&&r<=1279&&(0,B.jsx)(v,{}),r>=1280&&(0,B.jsx)(P,{})]})}}}]);
//# sourceMappingURL=666.f13482c3.chunk.js.map